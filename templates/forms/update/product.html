<html ng-app="Software">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../../node_modules/angular-material/angular-material.min.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link rel="stylesheet" href="../../../css/font-awesome/css/font-awesome.min.css">
    <meta name="viewport" content="initial-scale=1" />
    <title>PharmApp</title>
</head>

<body layout="column" ng-controller="ProductController">
    <md-toolbar style="background-color: rgba(10, 136, 109, 0.918)" class="md-primary">
        <h1 class="md-toolbar-tools"><i class="fa fa-plus-square"></i>Mettre à jour un produit</h1>
    </md-toolbar>
    <md-content layout-padding>

        <md-autocomplete md-selected-item-change="selectedPharmacy(pharmacy)" md-search-text="queryPharmacy" md-items="pharmacy in pharmacies | filter:queryPharmacy" md-item-text="pharmacy.nom" md-min-length="0" placeholder="Liste des pharmacies" md-menu-class="autocomplete-custom-template"
            ng-model="queryPharmacy">
            <md-item-template>
                <span class="item-title"><i class="fa fa-plus"></i> <strong>{{pharmacy.nom}}</strong></span>
                <span class="item-metadata">
						<span class="item-metastat">
							{{pharmacy.adresse}}, {{pharmacy.codepostal}} {{pharmacy.ville}}<br>
							Téléphone : {{pharmacy.telephone}}
						</span>
                </span>
            </md-item-template>
        </md-autocomplete>

        <div class="block">
            <md-select placeholder="Liste des produits" ng-model="_products">
                <md-option ng-repeat="product in products" ng-value="product.nom" ng-click="selectProduct(product.cip)">
                    {{product.nom}}
                </md-option>
            </md-select>
        </div>

        <form id="productForm" name="productForm" ng-submit="updateProduct()">

            <div class="block">
                <md-input-container>
                    <label>Nom</label>
                    <input type="text" ng-model="name" name="name" required>
                </md-input-container>
            </div>

            <div class="block">
                <md-input-container>
                    <label>Description</label>
                    <textarea ng-model="description" columns="1" md-maxlength="255"></textarea>
                </md-input-container>
            </div>

            <div class="superblock">
                <div class="block">
                    <md-input-container>
                        <label>Boite de</label>
                        <input type="text" ng-model="boitede">
                    </md-input-container>
                </div>
                <div class="block">
                    <md-input-container>
                        <label>Dosage</label>
                        <input type="text" ng-model="dosage">
                    </md-input-container>
                </div>
            </div>

            <div class="block">
                <md-select placeholder="Liste des classes" ng-model="_classes">
                    <md-option ng-repeat="c in classes" ng-value="c.nom">
                        {{c.nom}}
                    </md-option>
                </md-select>
            </div>

            <div class="block">
                <md-select placeholder="Liste des formes" ng-model="_formes">
                    <md-option ng-repeat="fo in formes" ng-value="fo.libelle">
                        {{fo.libelle}}
                    </md-option>
                </md-select>
            </div>

            <div class="block">
                <md-select placeholder="Liste des vignettes" ng-model="_vignettes">
                    <md-option ng-repeat="v in vignettes" ng-value="v.couleur">
                        {{v.couleur}}
                    </md-option>
                </md-select>
            </div>

            <div class="superblock">
                <div class="block">
                    <md-input-container>
                        <label>Quantité</label>
                        <input type="text" ng-model="quantity">
                    </md-input-container>
                </div>
                <div class="block">
                    <md-input-container>
                        <label>Prix en euro</label>
                        <input type="text" ng-model="price">
                    </md-input-container>
                </div>
            </div>

            <md-button style="background-color: rgba(10, 136, 109, 0.918)" class="md-raised md-primary" flex flex-md="100">Mettre à jour</md-button>

        </form>

    </md-content>

    <!-- Angular Material Dependencies -->
    <script src="../../../dist/angulars.min.js"></script>

    <script src="../../../app.js"></script>
    <script src="../../../js/script.js"></script>
    <script src="../../../js/controllers/ProductController.js"></script>

    <script src="../../../js/services/MenuService.js"></script>
    <script src="../../../js/services/DisplayService.js"></script>
    <script src="../../../js/services/DatabaseService.js"></script>
    <script src="../../../js/services/StringService.js"></script>

</body>

</html>